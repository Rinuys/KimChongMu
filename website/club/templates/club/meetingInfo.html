{% extends "club/club_base.html" %} 
{% load static %} 
{% block list %}
  <a href="{% url 'club:index' club.id %}" class="list-group-item list-group-item-action ">게시판</a>
  <a href="{% url 'club:member' club.id %}" class="list-group-item list-group-item-action ">멤버</a>
  <a href="{% url 'club:meeting' club.id %}" class="list-group-item list-group-item-action bg-light text-body">모임</a>
{% endblock %} 

{% block content %}
  <div class="row">
    <div class="card w-100">
      <div class="card-body">
        <div class="subheading"> 모임 상태 </div>
        <div class = "row p-4">
          {% if allAccept == False %}
            <button type=button class="btn btn-outline-primary col-sm-4 mybtn active"> 초대 중 </button>
            <button type=button class="btn btn-outline-secondary col-sm-4 mybtn" disabled> 예치금 납부중 </button>
            <button type=button class="btn btn-outline-secondary col-sm-4 mybtn" disabled> 확정 </button>
          {% elif allAccept == True %}
            <button type=button class="btn btn-outline-secondary col-sm-4 mybtn" disabled> 초대 중 </button>
            <button type=button class="btn btn-outline-primary col-sm-4 mybtn active"> 예치금 납부중 </button>
            <button type=button class="btn btn-outline-secondary col-sm-4 mybtn" disabled> 확정 </button>
          {% endif %}
        </div>
        <hr>
        <div class="subheading"> 모임명 </div>
        <h6> {{ meeting.name }} </h6>
        <hr>
        <div class="subheading"> 모임 날짜 </div>
        <h6> {{ meeting.date }} </h6>
        <hr>
        <div class="subheading"> 모임 시간 </div>
        <h6> {{ meeting.time }} </h6>
        <hr>
        <div class="subheading"> 모임 내용 </div>
        <h6> {{ meeting.comment }} </h6>
        <hr>
      </div>
    </div>
    <div class="card w-100 mt-3">
        <div class="card-body">
          <div class="subheading"> 모임 참가자 </div>
          <hr>
          {% for member in meeting.members.all %}
          <div class="row" style="font-size:19px">
            <div class="col-sm-2 text-center"> {{member.member_name}} </div>
            {% for invitation in invitationList %}
              {% if invitation.receiver == member %}
                {% if invitation.accept is None %}
                  <button type=button class="btn btn-outline-danger col-sm-4 mybtn" disabled> 초대 수락 대기중 </button>
                  </div>
                  <hr>
                {% elif invitation.accept is True %}
                  <button type=button class="btn btn-outline-success col-sm-4 mybtn" disabled> 초대 수락 </button>
                  </div>
                  <hr>
                {% elif invitation.accept is False %}
                  <button type=button class="btn btn-outline-danger col-sm-4 mybtn" disabled> 초대 거부 </button>
                  </div>
                  <hr>
                {% endif %}
              {% endif %}
            {% endfor %}
          {% endfor %}
<!--           
          <div class ="row" style="font-size:19px">
          <div class= "col-sm-2 text-center"> 이홍석 </div>
          <button type=button class="btn btn-outline-success col-sm-4 mybtn" disabled> 예치금 납부완료 </button>
          </div>
          <hr>
          <div class ="row" style="font-size:19px">
          <div class= "col-sm-2 text-center"> 전유진 </div>
          <button type=button class="btn btn-outline-danger col-sm-4 mybtn" disabled> 예치금 미납 </button>
          </div> -->

        <hr>
        {% if timeout == True %}
          <a href=" {% url 'club:meetingAttendance' club.id meeting.id %} ">
            <button class="btn btn-outline-secondary w-100">출석체크</button>
          </a>
        {% else %}
          <button class="btn btn-outline-secondary w-100" disabled>출석체크</button>
        {% endif %}


      </div>
    </div>
  </div>
{% endblock %}